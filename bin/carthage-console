#!/usr/bin/python3

import carthage.utils
from carthage.console import CarthageConsole

import asyncio

def main():
    parser = carthage.utils.carthage_main_argparser()
    CarthageConsole.add_arguments(parser)

    args = carthage.utils.carthage_main_setup(parser)

    console = CarthageConsole()
    console.process_arguments(args)

    async def run():
        loop = asyncio.get_event_loop()
        await loop.run_in_executor(None, console.interact)

    carthage.utils.carthage_main_run(run)
    
if __name__ == '__main__':
    main()
